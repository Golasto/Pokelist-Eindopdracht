{"ast":null,"code":"// import React, { createContext, useState, useEffect } from 'react';\n// import  axios  from \"axios\";\n// import jwt_decode from \"jwt-decode\";\n//\n// export const AuthContext = createContext({});\n//\n// function AuthContextProvider({ children }) {\n//     const [auth, toggleAuth] = useState({\n//         isAuth: false,\n//         user: {\n//             username: null,\n//             email: null,\n//         }\n//     });\n// useEffect(()=> {\n//\n// }, [])\n//\n//\n//     const [isLoaded, setIsLoaded] = useState(false)\n//     const key = localStorage.getItem('key')\n//\n//     function login() {\n//         console.log('Gebruiker is ingelogd!');\n//         toggleAuth({isAuth: true});\n//     }\n//\n//     function logout() {\n//         console.log('Gebruiker is uitgelogd!');\n//         localStorage.setItem(\"key\",\"\")\n//         toggleAuth({isAuth: false, user: {username: null, password: null}});\n//     }\n//\n//     async function getData() {\n//         const token = localStorage.getItem(\"key\")\n//\n//\n//         try {\n//             const response = await axios.get(\"https://frontend-educational-backend.herokuapp.com/api/user\",\n//                 {\n//                     headers: {\n//                         \"Content-Type\": \"application/json\",\n//                         \"Authorization\": `Bearer ${token}`,\n//                     }\n//                 })\n//\n//             if (token) {\n//                 const decoded = jwt_decode(token);\n//                 AuthContextProvider(decoded.sub, token);\n//             } else {\n//                 toggleAuth({\n//                     isAuth: false,\n//                     user: null,\n//                 });\n//             }\n//             toggleAuth({ username: response.data.username, email: response.data.email, isAuth: true })\n//             console.log(response.data)\n//             setIsLoaded(true)\n//         } catch (e) {\n//             console.error(e.response)\n//             setIsLoaded(true)\n//         }\n//     }\n//\n//     const contextData = {\n//         isAuth: auth,\n//         login: login,\n//         logout: logout,\n//         //getData: getData,\n//     };\n//\n//     /*useEffect(() => {\n//         if (key !== \"\" && key !== null)  {\n//             getData();\n//         } else {\n//             setIsLoaded(true)\n//         }\n//     }, []) */\n//\n//     //if (!isLoaded) {\n//        // return <div>Loading...</div>\n//     //} if (isLoaded) {\n//         return (\n//             <AuthContext.Provider value={contextData}>\n//                 {children}\n//             </AuthContext.Provider>\n//         );\n//     //}\n// }\n//\n// export default AuthContextProvider;","map":{"version":3,"names":[],"sources":["C:/Users/Matteus/Desktop/School codes/React/Huiswerk/pokelist/src/context/AuthProvider.js"],"sourcesContent":["// import React, { createContext, useState, useEffect } from 'react';\r\n// import  axios  from \"axios\";\r\n// import jwt_decode from \"jwt-decode\";\r\n//\r\n// export const AuthContext = createContext({});\r\n//\r\n// function AuthContextProvider({ children }) {\r\n//     const [auth, toggleAuth] = useState({\r\n//         isAuth: false,\r\n//         user: {\r\n//             username: null,\r\n//             email: null,\r\n//         }\r\n//     });\r\n// useEffect(()=> {\r\n//\r\n// }, [])\r\n//\r\n//\r\n//     const [isLoaded, setIsLoaded] = useState(false)\r\n//     const key = localStorage.getItem('key')\r\n//\r\n//     function login() {\r\n//         console.log('Gebruiker is ingelogd!');\r\n//         toggleAuth({isAuth: true});\r\n//     }\r\n//\r\n//     function logout() {\r\n//         console.log('Gebruiker is uitgelogd!');\r\n//         localStorage.setItem(\"key\",\"\")\r\n//         toggleAuth({isAuth: false, user: {username: null, password: null}});\r\n//     }\r\n//\r\n//     async function getData() {\r\n//         const token = localStorage.getItem(\"key\")\r\n//\r\n//\r\n//         try {\r\n//             const response = await axios.get(\"https://frontend-educational-backend.herokuapp.com/api/user\",\r\n//                 {\r\n//                     headers: {\r\n//                         \"Content-Type\": \"application/json\",\r\n//                         \"Authorization\": `Bearer ${token}`,\r\n//                     }\r\n//                 })\r\n//\r\n//             if (token) {\r\n//                 const decoded = jwt_decode(token);\r\n//                 AuthContextProvider(decoded.sub, token);\r\n//             } else {\r\n//                 toggleAuth({\r\n//                     isAuth: false,\r\n//                     user: null,\r\n//                 });\r\n//             }\r\n//             toggleAuth({ username: response.data.username, email: response.data.email, isAuth: true })\r\n//             console.log(response.data)\r\n//             setIsLoaded(true)\r\n//         } catch (e) {\r\n//             console.error(e.response)\r\n//             setIsLoaded(true)\r\n//         }\r\n//     }\r\n//\r\n//     const contextData = {\r\n//         isAuth: auth,\r\n//         login: login,\r\n//         logout: logout,\r\n//         //getData: getData,\r\n//     };\r\n//\r\n//     /*useEffect(() => {\r\n//         if (key !== \"\" && key !== null)  {\r\n//             getData();\r\n//         } else {\r\n//             setIsLoaded(true)\r\n//         }\r\n//     }, []) */\r\n//\r\n//     //if (!isLoaded) {\r\n//        // return <div>Loading...</div>\r\n//     //} if (isLoaded) {\r\n//         return (\r\n//             <AuthContext.Provider value={contextData}>\r\n//                 {children}\r\n//             </AuthContext.Provider>\r\n//         );\r\n//     //}\r\n// }\r\n//\r\n// export default AuthContextProvider;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}